


UNEXPAND(1)    Human68k ITA TOOLBOX User's Manual     UNEXPAND(1)



名称
     unexpand - スペースの連続を水平タブに置き換える

形式
     unexpand [ -aBCZ ] [ -t tab[,...] ] [ -tab[,...] ] [ -- ]
     [ file ] ...

解説
     unexpand は各 file を順次読み取り，スペースや水平タブの並び
     について，2桁以上の幅の水平タブに置き換え可能な部分を水平タ
     ブに，残りの部分をスペースに置き換えて標準出力に出力します．
     バックスペース（^H）と復帰（^M）による桁の後退は考慮されます．
     通常は行頭のスペースや水平タブの並びのみを変換しますが，-a
     オプションを指定すると行全体を変換します．

     file が 1つも指定されていない場合，または file が‘-’である
     場合には標準入力から読み取りを行います．file がオープンでき
     ないときにはエラー・メッセージを標準エラー出力に出力して処理
     を継続します．

     tab はタブストップの位置です（行の先頭は 0）．tab には 1 以
     上の数値を指定してください．

     tab は，-8 のように - に続けて直接記述することもできますし，
     -t8 または -t 8 のように -t オプションの引数として指定するこ
     ともできます．

     tab を複数指定すると，それぞれの桁がタブストップとなります．
     最後のタブストップを越える位置では変換は行われません．tab を
     1つだけ指定すると，その整数倍にあたる位置がすべてタブストッ
     プとなります．tab を 1つも指定しないと，デフォルトとして 8
     の整数倍にあたる位置がすべてタブストップとなります．

     tab を複数指定する場合，たとえば -5 -10 -20 のように指定する
     代わりに -5,10,20 のように指定することもできます．-t オプショ
     ンを使用する場合も同様です．いずれにしても数値の小さい順に指
     定しなければなりません．

     その他のオプションには次のものがあります．

     -B   決して ^J コードの ^M^J への変換を行いません．通常は，
          出力が cooked モードのキャラクタ・デバイス（CON や PRN
          など）である場合には，^M に続いていない ^J コードを
          ^M^J に変換して出力します．

     -C   -B オプションと逆に，^M に続いていない ^J コードを常に
          ^M^J に変換して出力します．

     -Z   いかなる入力からも，^Z (control-Z) コードを EOF と見な
          して入力を打ち切ります．通常は，入力が cooked モードの
          キャラクタ・デバイス（CON など）である場合にのみ，^D か
          または ^Z を読み取ると，それを EOF コードと見なして入力
          を打ち切ります．

関連事項
     expand(1)

診断
     何らかのエラーがあったときにはエラー・メッセージが標準エラー
     出力に出力されます．

     終了ステータスとしては，引数の記述に間違いがあった場合には 1，
     ファイルがオープンできなかったり入力に失敗した場合には 2，出
     力エラーやメモリ不足など，システムの問題により正常に実行でき
     なかった場合には 3，すべてが正常に終了したならば 0 が返りま
     す．^C などによって中断したときの終了ステータスは OS の仕様
     によります．

不具合
     unexpand は，復帰，改行，バックスペース，水平タブを除く文字
     はすべて 1バイトあたり 1桁を占めるものとして桁を数えています．
     一般的なシフトJISテキストにはこれで対応できますが，2バイト半
     角文字などの特殊な文字には対応していません．

バージョン
     1.0

制作・著作
     Copyright(C)1993 by 板垣 史彦 (Itagaki Fumihiko)



1.0                 Last change: 26 Dec 1993     Itagaki Fumihiko



